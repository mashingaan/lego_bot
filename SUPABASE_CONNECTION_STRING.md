# üîó –ì–¥–µ –Ω–∞–π—Ç–∏ Connection String –≤ Supabase

## üìç –í—ã —Å–µ–π—á–∞—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Database Settings

–ù–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–æ **Connection String –∑–¥–µ—Å—å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è**.

## üîç –ì–¥–µ –Ω–∞–π—Ç–∏ Connection String

### –°–ø–æ—Å–æ–± 1: Connection Info (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

1. **–í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏** (–≥–¥–µ –≤—ã —Å–µ–π—á–∞—Å –≤ —Ä–∞–∑–¥–µ–ª–µ Database)
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Configuration"**
3. –ù–ê–î –ø—É–Ω–∫—Ç–æ–º "Settings" –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É–Ω–∫—Ç **"Connection Info"** –∏–ª–∏ **"Connection Parameters"**
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
5. –¢–∞–º –±—É–¥–µ—Ç **Connection String (URI)**

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ Project Settings

1. **–í –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏** —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ `lego-bot-api`
2. –ù–∞–π–¥–∏—Ç–µ –∏–∫–æ–Ω–∫—É **Settings** (‚öôÔ∏è) –∏–ª–∏ –∫–Ω–æ–ø–∫—É **"Project Settings"**
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–µ
4. –í –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"Database"**
5. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Connection string"** –∏–ª–∏ **"Connection pooling"**
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **URI** –∏–ª–∏ **Connection String**

### –°–ø–æ—Å–æ–± 3: –ß–µ—Ä–µ–∑ API Settings

1. **–õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å** ‚Üí –ù–∞–π–¥–∏—Ç–µ –∏–∫–æ–Ω–∫—É **API** (–∏–∫–æ–Ω–∫–∞ –∫–æ–¥–∞ `<>`)
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–µ
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Database"** –∏–ª–∏ **"Connection"**
4. –¢–∞–º –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **Connection String**

### –°–ø–æ—Å–æ–± 4: –í –¥–æ–º–∞—à–Ω–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –Ω–∞ **Home** (–∏–∫–æ–Ω–∫–∞ –¥–æ–º–∞ –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏)
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"Connect to your project"** –∏–ª–∏ **"Database"**
3. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **"Connection string"** –∏–ª–∏ **"Connection Info"**

## üìã –§–æ—Ä–º–∞—Ç Connection String

Connection String –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```
postgresql://postgres.xwjeqndacvzurtnozgya:xiKfa1-cetsus-negqys@aws-0-eu-central-1.pooler.supabase.com:6543/postgres?pgbouncer=true&transaction_mode=transaction
```

–ì–¥–µ:
- `xwjeqndacvzurtnozgya` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `xiKfa1-cetsus-negqys` - –ø–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `aws-0-eu-central-1.pooler.supabase.com` - —Ö–æ—Å—Ç (–º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è)
- `6543` - –ø–æ—Ä—Ç –¥–ª—è Connection Pooling
- `postgres` - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üí° –ì–¥–µ —á–∞—â–µ –≤—Å–µ–≥–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è

**Connection String –æ–±—ã—á–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:**

1. **Settings ‚Üí Database ‚Üí Connection string** (–∏–ª–∏ Connection pooling)
2. **Project Settings ‚Üí Database ‚Üí Connection Info**
3. **Home ‚Üí Connect to your project ‚Üí Database**

## üéØ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ Connection String, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–±—Ä–∞—Ç—å –µ–≥–æ –≤—Ä—É—á–Ω—É—é:

```
postgresql://postgres.–ü–†–û–ï–ö–¢_ID:–ü–ê–†–û–õ–¨@aws-0-–†–ï–ì–ò–û–ù.pooler.supabase.com:6543/postgres?pgbouncer=true&transaction_mode=transaction
```

–ì–¥–µ:
- `–ü–†–û–ï–ö–¢_ID` - —ç—Ç–æ —á–∞—Å—Ç—å –∏–∑ Project URL: `xwjeqndacvzurtnozgya`
- `–ü–ê–†–û–õ–¨` - —ç—Ç–æ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∑–∞–¥–∞–ª–∏: `xiKfa1-cetsus-negqys`
- `–†–ï–ì–ò–û–ù` - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–≥–∏–æ–Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `eu-central-1` –¥–ª—è Europe)

## üìù –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è Connection String

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Connection String
2. –í Vercel: Settings ‚Üí Environment Variables
3. –ù–∞–π–¥–∏—Ç–µ `DATABASE_URL`
4. –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Connection String
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ
6. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç (Redeploy)

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `DATABASE_URL` –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```
https://lego-bot-core.vercel.app/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "status": "ok",
  "databases": {
    "postgres": "connected"
  }
}
```

